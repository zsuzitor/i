

nuget->
NLog
NLog.Config


для выключения в конфиге nlog'a
<nlog globalThreshold = "Off" />

в конфиге раскомментить блок target и блок rule


global.asax.cs
var builder = new ContainerBuilder();
            builder.RegisterControllers(typeof(HomeController).Assembly);
            builder.Register(x1 => LogManager.GetLogger("ForControllers")).As<ILogger>();
            DependencyResolver.SetResolver(new AutofacDependencyResolver(builder.Build()));






///


nuget->NLog.Web.AspNetCore
nlog.config
в конфиге
<targets>
    <target xsi:type="File" name="fileTarget" filename="..\logs\log.txt"></target>
  </targets>
 
  <rules>
    <logger name="*" minlevel="Trace" writeTo="fileTarget" />
  </rules>

тот minlvl который указывается тут затирается если есть еще настройки в appsettings.Development.json или appsettings.json


в program.cs
вот так
.UseStartup<Startup>().ConfigureLogging(logging =>
                {
                    logging.ClearProviders();
                    logging.SetMinimumLevel(LogLevel.Trace);
                }).UseNLog();


зависимость вот так 
using Microsoft.Extensions.Logging;
ILogger<AuthenticateController> logger
этот обобщенный объект засовывается в необобщенный!!!
ILogger _logger = logger;







